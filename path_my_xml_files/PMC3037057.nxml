<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.0 20120330//EN" "JATS-archivearticle1.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" article-type="research-article"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">Int J Environ Res Public Health</journal-id><journal-id journal-id-type="publisher-id">101238455</journal-id><journal-title-group><journal-title>International Journal of Environmental Research and Public Health</journal-title></journal-title-group><issn pub-type="ppub">1661-7827</issn><issn pub-type="epub">1660-4601</issn><publisher><publisher-name>Molecular Diversity Preservation International (MDPI)</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">21318011</article-id><article-id pub-id-type="pmc">3037057</article-id><article-id pub-id-type="doi">10.3390/ijerph8010015</article-id><article-id pub-id-type="publisher-id">ijerph-08-00015</article-id><article-categories><subj-group subj-group-type="heading"><subject>Article</subject></subj-group></article-categories><title-group><article-title>Blocked Randomization with Randomly Selected Block Sizes</article-title></title-group><contrib-group><contrib contrib-type="author"><name><surname>Efird</surname><given-names>Jimmy</given-names></name></contrib><aff id="af1-ijerph-08-00015">Center for Health Disparities Research and the Department of Public Health, Brody School of Medicine, East Carolina University, Physicians Quadrangle, Greenville, NC 27858, USA; E-Mail: <email>jimmy.efird@stanfordalumni.org</email>; Tel.: +1-650-248-8282</aff></contrib-group><pub-date pub-type="ppub"><month>1</month><year>2011</year></pub-date><pub-date pub-type="epub"><day>23</day><month>12</month><year>2010</year></pub-date><volume>8</volume><issue>1</issue><fpage>15</fpage><lpage>20</lpage><history><date date-type="received"><day>22</day><month>11</month><year>2010</year></date><date date-type="rev-recd"><day>19</day><month>12</month><year>2010</year></date><date date-type="accepted"><day>21</day><month>12</month><year>2010</year></date></history><permissions><copyright-statement>&#x000a9; 2011 by the authors; licensee Molecular Diversity Preservation International, Basel, Switzerland.</copyright-statement><copyright-year>2011</copyright-year><license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by/3.0"><license-p><!--CREATIVE COMMONS-->This article is an open-access article distributed under the terms and conditions of the Creative Commons Attribution license (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/3.0/">http://creativecommons.org/licenses/by/3.0/</ext-link>).</license-p></license></permissions><abstract><p>When planning a randomized clinical trial, careful consideration must be given to how participants are selected for various arms of a study. Selection and accidental bias may occur when participants are not assigned to study groups with equal probability. A simple random allocation scheme is a process by which each participant has equal likelihood of being assigned to treatment versus referent groups. However, by chance an unequal number of individuals may be assigned to each arm of the study and thus decrease the power to detect statistically significant differences between groups. Block randomization is a commonly used technique in clinical trial design to reduce bias and achieve balance in the allocation of participants to treatment arms, especially when the sample size is small. This method increases the probability that each arm will contain an equal number of individuals by sequencing participant assignments by block. Yet still, the allocation process may be predictable, for example, when the investigator is not blind and the block size is fixed. This paper provides an overview of blocked randomization and illustrates how to avoid selection bias by using random block sizes.</p></abstract><kwd-group><kwd>blocked randomization</kwd><kwd>random block sizes</kwd><kwd>randomized clinical trial</kwd></kwd-group></article-meta></front><body><sec sec-type="intro"><title>1. Introduction</title><p>The purpose of randomization is to achieve balance with respect to known and unknown risk factors in the allocation of participants to treatment arms in a study [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>,<xref ref-type="bibr" rid="b2-ijerph-08-00015">2</xref>]. A premise of basic statistical tests of significance is that underlying observations are independently and identically distributed. The stochastic assignment of participants helps to satisfy this requirement. It also allows the investigator to determine whether observed differences between groups are due to the agent being studied or chance.</p><p>By probability, a simple randomization scheme may allocate a different number of participants to each study group. This may reduce the power of a statistical procedure to reject the null hypothesis as statistical power is maximized for equal sample sizes [<xref ref-type="bibr" rid="b3-ijerph-08-00015">3</xref>]. Additionally, an imbalance of treatment groups within confounding factors may occur. This is especially true for small sample sizes. Confounding distorts the statistical validity of statistical inferences about cause and effect. The failure to control for confounding may inflate type 1 error and erroneously lead to the conclusion that a putative risk factor is causally associated with the outcome under study (<italic>i.e.</italic>, false positive finding). A chance run of participants to a particular study group also may occur under a simple randomization scenario. This can lead to bias, for example, if the initial participants in the trial are healthier than the later ones [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>]. Blocked randomization offers a simple means to achieve balance between study arms and to reduce the opportunity for bias and confounding.</p></sec><sec><title>2. Methodology</title><p>Block randomization works by randomizing participants within blocks such that an equal number are assigned to each treatment. For example, given a block size of 4, there are 6 possible ways to equally assign participants to a block. Allocation proceeds by randomly selecting one of the orderings and assigning the next block of participants to study groups according to the specified sequence. Note that repeat blocks may occur when the total sample size is greater than the block size times the number of possible orderings. Furthermore, the block size must be divisible by the number of study groups.</p><p>A disadvantage of block randomization is that the allocation of participants may be predictable and result in selection bias when the study groups are unmasked. That is, the treatment assignment that has so far occurred least often in the block likely will be the next chosen [<xref ref-type="bibr" rid="b4-ijerph-08-00015">4</xref>]. Selection bias may be reduced by using random block sizes and keeping the investigator blind to the size of each block.</p><sec><title>2.1. Example</title><p>An investigator wishes to compare a family-based educational intervention for childhood weight loss with a standard individual-base program. A planned enrollment of 250 participants, 50 per study site, is to be randomly assigned to the two intervention arms. Below, a computer algorithm written in SAS<sup>&#x000ae;</sup> (Cary, NC) is presented for performing a block randomization with randomly selected block sizes of 4, 8 and 12 (<xref ref-type="fig" rid="f1-ijerph-08-00015">Figure 1</xref>). The macro generates 15 randomized block allocations each for 5 study sites. A greater number of blocks are created than is necessary in the event that the investigator continues enrollment beyond the initially planned sample size. For example, expanded enrollment might occur due to a greater than anticipated attrition rate.</p><p>The macro works by invoking the ranuni function to equally partition the number of blocks according to a uniform distribution. When the number within the parenthesis of the ranuni function equals zero the seed is determined by the computer system clock. Thus, a different set of block allocations occur each time the macro is executed. Changing the number to a positive integer will assure that the same block allocation is generated during subsequent use of the macro. After the block size is randomly determined the macro efficiently allocates treatment assignment equally within blocks by sorting on the looping index variable. Although the macro only generates 3 randomly selected block sizes the code may be easily modified to increase this number by further partitioning the uniform assignment space. Similarly, the number of study sites and blocks may be increased or decreased by changing the upper range of the two program do-loops. The output of the SAS algorithm corresponding to the first 3 blocks for Site 1 is shown in <xref ref-type="fig" rid="f2-ijerph-08-00015">Figure 2</xref>. For example, Block = 1 randomizes 4 participants, with the first two assigned to &#x0201c;Non-intervention&#x0201d; and the last two assigned to &#x0201c;Intervention&#x0201d;.</p></sec></sec><sec sec-type="discussion"><title>3. Discussion</title><p>A key advantage of blocked randomization is that treatment groups will be equal in size and will tend to be uniformly distributed by key outcome-related characteristics. Typically, smaller block sizes will lead to more balanced groups by time than larger block sizes. However, a small block size increases the risk that the allocation process may be predictable, especially if the assignment is open or there is a chance for unmasking of the treatment assignment. For example, certain immunosuppressive agents change color when exposed to light. This may inadvertently expose the identity of the compound in a clinical trial if the comparator compound is not light sensitive. Unmasking also may be intentional in the case of a physician chemically analyzing a patient&#x02019;s blood to determine the identity of the randomized drug.</p><p>Using a large block size will help protect against the investigator predicting the treatment sequence. However, if one treatment occurs with greater frequency at the beginning of a block, a mid-block inequality can occur if there is an interim analysis or the study is terminated midway through a block. Alternatively, keeping block sizes small and using random sequences of block sizes can ameliorate this problem. Another option is to use larger random block sizes but offset the chance of initial treatment runs within a block by allocating participants using a biased coin approach [<xref ref-type="bibr" rid="b4-ijerph-08-00015">4</xref>]. In a simple trial consisting of a single treatment and referent group, this method probabilistically assigns participants within a block to the treatment arm depending on the assignment balance of participants thus far randomized to the treatment arm. For example, if a participant to be randomized is in a category which has K more treatments (t) than referents (r) already assigned, then assignment to the treatment and referent group will be made with probability t = q, (r = p), t = &#x000bd; (r = &#x000bd;), and t = p, (r = q) contingent on whether K is greater than, equal to, or less than zero (where p &#x02265; q, p + q = 1). Although the latter strategy may distort the randomization process by decreasing the probability of long runs, the resulting bias may be acceptable if it prevents mid-block inequality and controls the predictability of treatment assignment. Under certain minimax conditions, the random coin approach has been shown to be superior to complete randomization for minimizing accidental bias (e.g., a type of bias that occurs when the randomization scheme does not achieve balance on outcome-related covariates) [<xref ref-type="bibr" rid="b4-ijerph-08-00015">4</xref>]. A key advantage of the open source algorithm provided in this paper, and comparable algorithms available in programming languages such as R [<xref ref-type="bibr" rid="b5-ijerph-08-00015">5</xref>], is that the underlying code may be modified to accommodate the random coin technique and other balancing strategies yet to be implemented in standard statistical packages.</p><p>The number of participants assigned to each treatment group will be equal when all the blocks are the same size and the overall study sample size is a multiple of the block size. Furthermore, in the case of unequal block sizes, balance is guaranteed if all treatment assignments are made within the final block [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>]. However, when random block sizes are used in a multi-site study, the sample size may vary by site but on average will be similar.</p><p>The advantage of using random block sizes to reduce selection bias is only observed when assignments can be determined with certainty [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>]. That is, when the assignment is not known with certainty but rather is just more probable, then there is no advantage to using random block sizes. The best protection against selection bias is to blind both the ordering of blocks and their respective size. Furthermore, the use of random block sizes is not necessary in an unmasked trial if participants have been randomized as a block rather than individually according to their entry into the study, as the former will completely eliminate selection bias.</p><p>The necessity to take into account blocking in the statistical analysis of the data, including when the block sizes are randomly chosen, depends on whether an intrablock correlation exists [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>]. A non-zero intrablock correlation may occur, for example, when the characteristics and responses for a participant change according to their entry time into the study. If the process is homogeneous the intrablock correlation will equal zero and blocking may be ignored in the analysis. However, variance estimates must be appropriately adjusted when intrablock correlation is present [<xref ref-type="bibr" rid="b6-ijerph-08-00015">6</xref>]. The presence of missing data within blocks also can potentially complicate the validity of statistical analysis. For example, special analytic techniques may be needed when the missing data is related to treatment effects or occurs in some other non random manner [<xref ref-type="bibr" rid="b1-ijerph-08-00015">1</xref>,<xref ref-type="bibr" rid="b3-ijerph-08-00015">3</xref>]. However, datasets with missing-at-random observations may be analyzed by simply excluding the affected blocks. When possible, measures should be implemented to minimize missing values as their presence will reduce the power of statistical procedures.</p><p>Significant treatment imbalances and accidental bias typically do not occur in large blinded trials, especially if randomization can be performed at the onset of the study. However, when treatment assignment is open and sample size is small than a block randomization procedure with randomly chosen block sizes may help maintain balance of treatment assignment and reduce the potential for selection bias.</p></sec></body><back><ack><title>Acknowledgements</title><p>The author thanks Katherine T. Jones for valuable comments during the writing of this manuscript and her knowledge and insight are greatly appreciated. The contents of this publication are solely the responsibility of the author and do not necessarily represent the views of any institution or funding agency.</p></ack><ref-list><title>References</title><ref id="b1-ijerph-08-00015"><label>1</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Matts</surname><given-names>J</given-names></name><name><surname>Lachin</surname><given-names>J</given-names></name></person-group><article-title>Properties of permuted-block randomization in clinical trials</article-title><source>Control Clin. Trials</source><year>1988</year><volume>9</volume><fpage>327</fpage><lpage>344</lpage><pub-id pub-id-type="pmid">3203524</pub-id></mixed-citation></ref><ref id="b2-ijerph-08-00015"><label>2</label><mixed-citation publication-type="book"><person-group person-group-type="author"><name><surname>Hewitt</surname><given-names>C</given-names></name><name><surname>Torgerson</surname><given-names>D</given-names></name></person-group><person-group person-group-type="editor"><name><surname>Domanski</surname><given-names>M</given-names></name><name><surname>McKinlay</surname><given-names>S</given-names></name></person-group><article-title>Randomization: What is it and how to do it</article-title><source>Successful Randomized Trials</source><publisher-name>Wolters Kluwer</publisher-name><publisher-loc>Philadelphia, PA, USA</publisher-loc><year>2009</year><volume>Chapter 3</volume><fpage>27</fpage></mixed-citation></ref><ref id="b3-ijerph-08-00015"><label>3</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lachin</surname><given-names>J</given-names></name></person-group><article-title>Properties of simple randomization in clinical trials</article-title><source>Control Clin. Trials</source><year>1988</year><volume>9</volume><fpage>312</fpage><lpage>326</lpage><pub-id pub-id-type="pmid">3203523</pub-id></mixed-citation></ref><ref id="b4-ijerph-08-00015"><label>4</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Efron</surname><given-names>B</given-names></name></person-group><article-title>Forcing a sequential experiment to be balanced</article-title><source>Biometrika</source><year>1971</year><volume>58</volume><fpage>403</fpage></mixed-citation></ref><ref id="b5-ijerph-08-00015"><label>5</label><mixed-citation publication-type="webpage"><person-group person-group-type="author"><name><surname>Harrell</surname><given-names>F</given-names></name></person-group><source>Block Randomization with Random Block Sizes</source><comment>Available online: <ext-link ext-link-type="uri" xlink:href="http://biostat.mc.vanderbilt.edu/wiki/Main/BlockRandomizationWithRandomBlockSizes">http://biostat.mc.vanderbilt.edu/wiki/Main/BlockRandomizationWithRandomBlockSizes</ext-link></comment><date-in-citation>(accessed on 5 September 2010).</date-in-citation></mixed-citation></ref><ref id="b6-ijerph-08-00015"><label>6</label><mixed-citation publication-type="journal"><person-group person-group-type="author"><name><surname>White</surname><given-names>H</given-names></name></person-group><article-title>A heteroskedasticity-consistent covariance matrix estimator and a direct test for heteroskedasticity</article-title><source>Econometrica</source><year>1980</year><volume>48</volume><fpage>817</fpage><lpage>838</lpage></mixed-citation></ref></ref-list></back><floats-group><fig id="f1-ijerph-08-00015" position="float"><label>Figure 1</label><caption><p>SAS algorithm to perform blocked randomization with random block sizes.</p></caption><graphic xlink:href="ijerph-08-00015f1"/></fig><fig id="f2-ijerph-08-00015" position="float"><label>Figure 2</label><caption><p>Example output from the SAS algorithm.</p></caption><graphic xlink:href="ijerph-08-00015f2"/></fig></floats-group></article>