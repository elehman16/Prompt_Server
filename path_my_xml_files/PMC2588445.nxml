<!DOCTYPE article PUBLIC "-//NLM//DTD Journal Archiving and Interchange DTD v2.3 20070202//EN" "archivearticle.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" article-type="product-review"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">BMC Med Res Methodol</journal-id><journal-title>BMC Medical Research Methodology</journal-title><issn pub-type="epub">1471-2288</issn><publisher><publisher-name>BioMed Central</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">18844993</article-id><article-id pub-id-type="pmc">2588445</article-id><article-id pub-id-type="publisher-id">1471-2288-8-65</article-id><article-id pub-id-type="doi">10.1186/1471-2288-8-65</article-id><article-categories><subj-group subj-group-type="heading"><subject>Software</subject></subj-group></article-categories><title-group><article-title>Balance algorithm for cluster randomized trials</article-title></title-group><contrib-group><contrib id="A1" corresp="yes" contrib-type="author"><name><surname>Carter</surname><given-names>Ben R</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>carterbr@cardiff.ac.uk</email></contrib><contrib id="A2" contrib-type="author"><name><surname>Hood</surname><given-names>Kerenza</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>hoodk1@cardiff.ac.uk</email></contrib></contrib-group><aff id="I1"><label>1</label>South East Wales Trials Unit, Neuadd Meirionnydd, School of Medicine, Heath Park Campus, Cardiff University, CF14 4XN</aff><pub-date pub-type="collection"><year>2008</year></pub-date><pub-date pub-type="epub"><day>9</day><month>10</month><year>2008</year></pub-date><volume>8</volume><fpage>65</fpage><lpage>65</lpage><ext-link ext-link-type="uri" xlink:href="http://www.biomedcentral.com/1471-2288/8/65"/><history><date date-type="received"><day>2</day><month>6</month><year>2008</year></date><date date-type="accepted"><day>9</day><month>10</month><year>2008</year></date></history><permissions><copyright-statement>Copyright &#x000a9; 2008 Carter and Hood; licensee BioMed Central Ltd.</copyright-statement><copyright-year>2008</copyright-year><copyright-holder>Carter and Hood; licensee BioMed Central Ltd.</copyright-holder><license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by/2.0"><p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/2.0"/>), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</p><!--<rdf xmlns="http://web.resource.org/cc/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1" xmlns:dcterms="http://purl.org/dc/terms"><Work xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" rdf:about=""><license rdf:resource="http://creativecommons.org/licenses/by/2.0"/><dc:type rdf:resource="http://purl.org/dc/dcmitype/Text"/><dc:author>
               Carter
               R
               Ben
               
               carterbr@cardiff.ac.uk
            </dc:author><dc:title>
            Balance algorithm for cluster randomized trials
         </dc:title><dc:date>2008</dc:date><dcterms:bibliographicCitation>BMC Medical Research Methodology 8(1): 65-. (2008)</dcterms:bibliographicCitation><dc:identifier type="sici">1471-2288(2008)8:1&#x0003c;65&#x0003e;</dc:identifier><dcterms:isPartOf>urn:ISSN:1471-2288</dcterms:isPartOf><License rdf:about="http://creativecommons.org/licenses/by/2.0"><permits rdf:resource="http://web.resource.org/cc/Reproduction" xmlns=""/><permits rdf:resource="http://web.resource.org/cc/Distribution" xmlns=""/><requires rdf:resource="http://web.resource.org/cc/Notice" xmlns=""/><requires rdf:resource="http://web.resource.org/cc/Attribution" xmlns=""/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" xmlns=""/></License></Work></rdf>--></license></permissions><abstract><sec><title>Background</title><p>Within cluster randomized trials no algorithms exist to generate a full enumeration of a block randomization, balancing for covariates across treatment arms. Furthermore, often for practical reasons multiple blocks are required to fully randomize a study, which may not have been well balanced within blocks.</p></sec><sec><title>Results</title><p>We present a convenient and easy to use randomization tool to undertake allocation concealed block randomization. Our algorithm highlights allocations that minimize imbalance between treatment groups across multiple baseline covariates.</p><p>We demonstrate the algorithm using a cluster randomized trial in primary care (the PRE-EMPT Study) and show that the software incorporates a trade off between independent random allocations that were likely to be imbalanced, and predictable deterministic approaches that would minimise imbalance. We extend the methodology of single block randomization to allocate to multiple blocks conditioning on previous allocations.</p></sec><sec><title>Conclusion</title><p>The algorithm is included as Additional file <xref ref-type="supplementary-material" rid="S1">1</xref> and we advocate its use for robust randomization within cluster randomized trials.</p></sec></abstract></article-meta></front><body><sec><title>Background</title><p>An essential part of a randomized controlled trial (RCT) is the process of allocating units to treatment or intervention groups (arms). This is defined as randomization and is carried out to ensure that systematic bias is minimized during the selection stage [<xref ref-type="bibr" rid="B1">1</xref>-<xref ref-type="bibr" rid="B3">3</xref>] and that randomized rather than model based inference can be used for analysis. Randomization is carried out so that any differences found between the treatment arms can be argued as a genuine effect or due to chance. The key principles of randomization are to ensure each unit is allocated randomly and that future allocations are concealed. This ensures that knowledge of previous allocations does not allow prediction of those in the future. There are many ways to undertake randomization, with the most straightforward rolling an unbiased die with the treatment groups equally represented. However, in this simple example nothing prevents a heavy imbalance in terms of absolute number or baseline covariates to one of the treatment arms.</p><p>A solution to minimize the potential imbalance between treatment groups was originally reviewed by Box [<xref ref-type="bibr" rid="B4">4</xref>] then extended independently by Taves [<xref ref-type="bibr" rid="B5">5</xref>] and Pocock and Simon [<xref ref-type="bibr" rid="B6">6</xref>]. These authors detailed the steps implementing methods that dynamically randomized patients to treatment group, minimizing the imbalance between treatment baseline characteristics, rather than by chance. After minimization was introduced further authors introduced methods that were published but were felt to be suboptimal for the application [<xref ref-type="bibr" rid="B7">7</xref>,<xref ref-type="bibr" rid="B8">8</xref>]. Since then, the majority of views expressed have been in favour of widespread incorporation of minimization [<xref ref-type="bibr" rid="B9">9</xref>-<xref ref-type="bibr" rid="B11">11</xref>]. International guidance for the pharmaceutical industry has been the most notable critic of minimization and highlighted the lack of concealment [<xref ref-type="bibr" rid="B12">12</xref>], whereas other authors argue that in an RCT setting it is an additional administrative burden [<xref ref-type="bibr" rid="B13">13</xref>]. The Committee for Propriety Medicinal Products (CPMP) and at the International Conference on Harmonisation (ICH) for statistical principles in clinical trials it was advised that deterministic designs should be avoided and a random element included [<xref ref-type="bibr" rid="B12">12</xref>]. Many authors who have expressed reservation about minimization acknowledge that in settings where few units are needed to be randomized it can offer substantial benefits. Therefore minimization is an important consideration for cluster randomized trials where randomization occurs at the centre, rather than at the subject level. However, the key to minimization being accepted is the introduction of randomness to minimize the predictive power of those involved in a trial. This can be by masking and concealment to reduce the risk of allocations being known prior to randomization [<xref ref-type="bibr" rid="B14">14</xref>].</p><p>Cluster randomized trials may recruit all units prior to randomization which would allow baseline characteristics to be used to calculate the imbalance between treatment arms for each allocation allowing minimization with complete knowledge of baseline characteristics across the sample. Raab and Butcher introduced two criteria to evaluate randomization methods in cluster randomized trials across baseline covariates and in doing so described a simple imbalance measure between treatment arms [<xref ref-type="bibr" rid="B15">15</xref>]. Using this measure they generated allocations through randomization block designs which have been criticized for advance sequential randomization [<xref ref-type="bibr" rid="B16">16</xref>-<xref ref-type="bibr" rid="B18">18</xref>]. However, by delaying the allocation until all units within a block have been enrolled adequately deals with the issue of concealment [<xref ref-type="bibr" rid="B2">2</xref>,<xref ref-type="bibr" rid="B19">19</xref>,<xref ref-type="bibr" rid="B20">20</xref>]. Since the initial work of Raab and Butcher was reported other studies have used the methodology [<xref ref-type="bibr" rid="B21">21</xref>-<xref ref-type="bibr" rid="B23">23</xref>]. In a primary care study randomised by practice, this would mean all practices being identified and enrolled prior to randomization.</p><p>A natural extension of this is to consider blocks of units as they are enrolled. For a study in primary care this may mean practices which rapidly take up the offer of taking part in a study (and for whom the local ethical and governance arrangements are completed) for a first block, then those who take longer forming a second. With blocks structured pragmatically, it is important to balance between blocks as well as within.</p><p>At present no public domain software has been made available to calculate a within and between block imbalance measure using baseline covariate information. Our software is freely available through the R Software [<xref ref-type="bibr" rid="B24">24</xref>].</p></sec><sec><title>Implementation</title><sec><title>Randomization of a single block of units</title><p>Where all units are fully identified in advance, a single block can be used for the study. The algorithm carries out a complete enumeration of all allocations in a two-treatment arm study. When the number of units within a block to be allocated is even, an equal number of units would be allocated into each of the treatment arms. For cases with an odd number of units within block a near equal allocation is generated between the two treatment arms. Once the set of possible enumerations has been generated the imbalance statistic is calculated using the baseline covariates for each allocation across the two treatment arms.</p><p>It should be remembered that allocating units within a two arm study design incurs a natural symmetry. Since the algorithm does not assign treatment arm, only 0 or 1 as a treatment arm code, these can be interpreted as either treatment arm. Thus, a design with the first half of units allocated to treatment arm 0 and subsequent allocated to 1 would be identical to the first half of units allocated to treatment arm 1 and latter to 0. Therefore, for single block designs the software always allocates the first unit into group 1.</p><p>The imbalance measure as calculated by Raab and Butcher [<xref ref-type="bibr" rid="B15">15</xref>] was coded -1 and 1 for the two treatment group, here it is equivalently coded within block using 0 and 1 calculated using: <italic>x</italic><sub><italic>ij </italic></sub>which is a matrix of 0, and 1's denoting allocation to treatment arm for each unit (<italic>i</italic>) and allocation (<italic>k</italic>); and the matrix of equally weighted z-scores for the baseline factors noted as <italic>w</italic><sub><italic>ij</italic></sub>; and can be written as:</p><p><disp-formula id="bmcM1"><label>(1)</label><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" id="M1" name="1471-2288-8-65-i1" overflow="scroll"><mml:semantics><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mi>B</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:mi>n</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mo>=</mml:mo><mml:mstyle displaystyle="true"><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>j</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mtext>M</mml:mtext></mml:munderover><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mstyle displaystyle="true"><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:munderover><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>x</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>k</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mstyle></mml:mrow></mml:mtd><mml:mtd><mml:mrow/></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mrow/></mml:mtd><mml:mtd><mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mn>2</mml:mn><mml:mo>,</mml:mo><mml:mn>...</mml:mn></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mi>j</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mn>2</mml:mn><mml:mo>,</mml:mo><mml:mn>...</mml:mn></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:mtext>M</mml:mtext><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mi>k</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mn>2</mml:mn><mml:mo>,</mml:mo><mml:mn>...</mml:mn></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:msup><mml:mn>2</mml:mn><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:msup><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:semantics></mml:math></disp-formula></p><p>where <italic>x</italic><sub><italic>ik </italic></sub>is the <italic>i</italic><sup>th </sup>unit of the <italic>k</italic><sup>th </sup>allocation, <italic>w</italic><sub><italic>ij </italic></sub>is the <italic>i</italic><sup>th </sup>unit of the <italic>j</italic><sup>th </sup>baseline covariate, n<sub>1 </sub>is the number of units allocated to the first block and M is the number of baseline factors.</p><p>The algorithm will provide a set of optimal allocations depending on the number of units to be randomized. In accordance with the principles of the ICH guidance on randomness it is recommended that the final design is sampled from a set of optimal allocations [<xref ref-type="bibr" rid="B12">12</xref>,<xref ref-type="bibr" rid="B14">14</xref>]. We have offered guidance to the minimum size of the sets required in Table <xref ref-type="table" rid="T1">1</xref>. We use the 25% most optimal allocations for blocks with between 8 to 11 units or the optimal 100 allocations for blocks between 12 and 17 units and for larger block sizes with greater than 17 units we use the top 1,000 allocations. The size of the block affects the level of predictability and concealment, with smaller block sizes more susceptible to bias [<xref ref-type="bibr" rid="B25">25</xref>].</p><table-wrap position="float" id="T1"><label>Table 1</label><caption><p>The number of units, total allocation permutations and size of random component that the final design is selected from, partitioned into first and additional blocks</p></caption><table frame="hsides" rules="groups"><thead><tr><td align="left">Units</td><td align="right">Allocations</td><td align="center" colspan="2">Random element for first block</td><td align="center" colspan="2">Random element for additional blocks</td></tr><tr><td></td><td></td><td align="right">Number</td><td align="right">Percent</td><td align="right">Number</td><td align="right">Percent</td></tr></thead><tbody><tr><td align="left">6</td><td align="right">20</td><td align="right">-</td><td align="right">-</td><td align="right">7</td><td align="right">35%</td></tr><tr><td align="left">7</td><td align="right">35</td><td align="right">-</td><td align="right">-</td><td align="right">10</td><td align="right">29%</td></tr><tr><td align="left">8</td><td align="right">70</td><td align="right">10</td><td align="right">29%</td><td align="right">18</td><td align="right">26%</td></tr><tr><td align="left">9</td><td align="right">126</td><td align="right">18</td><td align="right">29%</td><td align="right">32</td><td align="right">25%</td></tr><tr><td align="left">10</td><td align="right">252</td><td align="right">32</td><td align="right">25%</td><td align="right">63</td><td align="right">25%</td></tr><tr><td align="left">11</td><td align="right">462</td><td align="right">58</td><td align="right">25%</td><td align="right">100</td><td align="right">22%</td></tr><tr><td align="left">12</td><td align="right">924</td><td align="right">100</td><td align="right">22%</td><td align="right">100</td><td align="right">11%</td></tr><tr><td align="left">13</td><td align="right">1,716</td><td align="right">100</td><td align="right">12%</td><td align="right">100</td><td align="right">6%</td></tr><tr><td align="left">14</td><td align="right">3,432</td><td align="right">100</td><td align="right">6%</td><td align="right">100</td><td align="right">3%</td></tr><tr><td align="left">15</td><td align="right">6,435</td><td align="right">100</td><td align="right">3%</td><td align="right">100</td><td align="right">2%</td></tr><tr><td align="left">16</td><td align="right">12,870</td><td align="right">100</td><td align="right">2%</td><td align="right">100</td><td align="right">1%</td></tr><tr><td></td><td></td><td></td><td></td><td colspan="2"><hr></hr></td></tr><tr><td align="left">17</td><td align="right">24,310</td><td align="right">100</td><td align="right">1%</td><td align="right">1,000</td><td align="right">4%</td></tr><tr><td></td><td></td><td colspan="2"><hr></hr></td><td></td><td></td></tr><tr><td align="left">18</td><td align="right">48,620</td><td align="right">1,000</td><td align="right">4%</td><td align="right">1,000</td><td align="right">2%</td></tr><tr><td align="left">19</td><td align="right">92,378</td><td align="right">1,000</td><td align="right">2%</td><td align="right">1,000</td><td align="right">1%</td></tr><tr><td align="left">20</td><td align="right">184,756</td><td align="right">1,000</td><td align="right">1%</td><td align="right">1,000</td><td align="right">1%</td></tr><tr><td align="left">21</td><td align="right">352,716</td><td align="right">1,000</td><td align="right">1%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">22</td><td align="right">705,432</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">23</td><td align="right">1,352,078</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">24</td><td align="right">2,704,156</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">25</td><td align="right">5,200,300</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">26</td><td align="right">10,400,600</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">27</td><td align="right">20,058,300</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">28</td><td align="right">40,116,600</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">29</td><td align="right">77,558,760</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr><tr><td align="left">30</td><td align="right">155,117,520</td><td align="right">1,000</td><td align="right">0%</td><td align="right">1,000</td><td align="right">0%</td></tr></tbody></table></table-wrap><p>Once the final allocated has been selected the choice of which group becomes intervention or control should be allocated randomly.</p></sec><sec><title>Randomization of multiple blocks of units</title><p>As described above there are often practical reasons for using a number of blocks. Therefore, there is a desire to randomize smaller blocks as they become availbale. Computationally the enumeration of 20 practices balanced into a two arm design would lead to 184,756 possible allocations. Beyond 20 units the total number of enumerated allocations quickly becomes a computationally intensive problem, where the maximum number of units able to be randomized is dependent upon the amount of available RAM (Table <xref ref-type="table" rid="T2">2</xref>). Therefore, it may be prudent to randomize in blocks to overcome these two difficulties. Smaller block sizes have a increased chance of selection bias through inadequate concealment, or inquisitive investigators [<xref ref-type="bibr" rid="B26">26</xref>], however if all units are enrolled prior to randomisation and informed at the same time of their allocation this is unlikely to be an issue.</p><table-wrap position="float" id="T2"><label>Table 2</label><caption><p>The maximum number of units able to be allocated, dependent on RAM specification and block number.</p></caption><table frame="hsides" rules="groups"><thead><tr><td align="center">RAM</td><td align="center">First block</td><td align="center">Additional blocks</td></tr></thead><tbody><tr><td align="center">256 Mb</td><td align="center">22</td><td align="center">20</td></tr><tr><td align="center">512 Mb</td><td align="center">22</td><td align="center">20</td></tr><tr><td align="center">1024 Mb</td><td align="center">24</td><td align="center">22</td></tr><tr><td align="center">2048 Mb</td><td align="center">24</td><td align="center">22</td></tr></tbody></table></table-wrap><p>Second and subsequent blocks should be allocated using the selected design of earlier blocks. The structure of the input allocation from earlier blocks includes the same header with a single row of 0 and 1's allocating units into the two treatment arms.</p><p>For an even block size the allocation will be equally split between the two treatment arms (regardless of previous blocks). For odd block sizes the previous blocks allocations will be considered, since if previous blocks had equal number of units within each treatment arm, then a random number generator would allocate the greater number units to one of the arms. However, if the two arms had already been allocated a different number of units then the greater number of units would be automatically allocated to the lesser recruited treatment arm. For example, if block one allocated 13 units with 6 in arm 0 and 7 in arm 1, and block two were to allocate 15 units then 8 would be allocated to arm 0 and 7 to arm 1.</p><p>For each additional block the balance measure is conditional on the selected allocation of the first block, where <italic>w</italic><sub><italic>ij </italic></sub>is the within block z-scores and the balance measure becomes:</p><p><disp-formula id="bmcM2"><label>(2)</label><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" id="M2" name="1471-2288-8-65-i2" overflow="scroll"><mml:semantics><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mi>A</mml:mi><mml:mi>d</mml:mi><mml:mi>d</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi><mml:mtext>&#x000a0;</mml:mtext><mml:mi>B</mml:mi><mml:mi>l</mml:mi><mml:mi>o</mml:mi><mml:mi>c</mml:mi><mml:mi>k</mml:mi><mml:mtext>&#x000a0;</mml:mtext><mml:mi>B</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi><mml:mi>a</mml:mi><mml:mi>n</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mo>=</mml:mo><mml:mstyle displaystyle="true"><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>j</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mtext>M</mml:mtext></mml:munderover><mml:mrow><mml:msubsup><mml:mi>z</mml:mi><mml:mrow><mml:mi>j</mml:mi><mml:mi>k</mml:mi></mml:mrow><mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:mstyle><mml:mo>,</mml:mo></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:mtext>since&#x000a0;</mml:mtext><mml:msub><mml:mi>z</mml:mi><mml:mrow><mml:mi>j</mml:mi><mml:mi>k</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mstyle displaystyle="true"><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:mrow></mml:munderover><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>x</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>k</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:mrow><mml:mo>|</mml:mo></mml:mrow><mml:mstyle displaystyle="true"><mml:munderover><mml:mo>&#x02211;</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:munderover><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>x</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>k</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mstyle><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:semantics></mml:math></disp-formula></p><p>where: n<sub>2 </sub>is the number of units allocated to the additional block.</p><p>The output provided from multiple block designs is similar a single block design. The differences in methodology between the allocation of the first and additional blocks are the following:</p><p>&#x02022; if the block size is odd, the allocation of the larger number of units will depend on previous block allocations,</p><p>&#x02022; the symmetry which existed in the first block, no longer exists in additional blocks, since the treatment arm code has already been allocated. This changes the number of units able to be allocated within a block (Table <xref ref-type="table" rid="T1">1</xref>).</p></sec><sec><title>The baseline covariate data</title><p>Numerical covariate information can be used directly in 'covariate_csv'. However, categorical data should be coded as below:</p><p>&#x02022; If the factor has a natural ordering and would be deemed ordinal categorical then ordered scores should be considered for example: None, mild, moderate and severe disease levels could be coded within the data as 0,1,2,3. However, depending on the extent of the difference between the ordinal categories these might be coded alternatively on the log<sub>2 </sub>scale i.e. 0,1,2,4. We advise you to seek statistical and clinical advice for guidance before proceeding with these [<xref ref-type="bibr" rid="B26">26</xref>].</p><p>&#x02022; If the factor lacks a natural ordering and is considered nominal categorical then the number of levels within the factor will need to be considered. Nominal categorical factors can be coded using orthogonal dummy variables which identify individual factor levels (Table <xref ref-type="table" rid="T3">3</xref>).</p><table-wrap position="float" id="T3"><label>Table 3</label><caption><p>Orthogonal coding of dummy variables for nominal categorical factor levels using a single variable for 2 levels, two variables for 3 to 4 levels and three variables for 5 to 8 levels</p></caption><table frame="hsides" rules="groups"><thead><tr><td align="center">Number of levels</td><td align="center">Level</td><td align="right">Var<sub>1</sub></td><td align="right">Var<sub>2</sub></td><td align="right">Var<sub>3</sub></td></tr></thead><tbody><tr><td align="center">2</td><td align="center">1</td><td align="right">-1</td><td align="right">N/A</td><td align="right">N/A</td></tr><tr><td></td><td align="center">2</td><td align="right">1</td><td></td><td></td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">3</td><td align="center">1</td><td align="right">-1</td><td align="right">-1</td><td align="right">N/A</td></tr><tr><td></td><td align="center">2</td><td align="right">1</td><td align="right">-1</td><td></td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">1</td><td></td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">4</td><td align="center">1</td><td align="right">-1</td><td align="right">-1</td><td align="right">N/A</td></tr><tr><td></td><td align="center">2</td><td align="right">1</td><td align="right">-1</td><td></td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">1</td><td></td></tr><tr><td></td><td align="center">4</td><td align="right">1</td><td align="right">1</td><td></td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">5</td><td align="center">1</td><td align="right">-1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">2</td><td align="right">1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td></td><td align="center">4</td><td align="right">-1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">5</td><td align="right">1</td><td align="right">1</td><td align="right">1</td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">6</td><td align="center">1</td><td align="right">1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">2</td><td align="right">-1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">4</td><td align="right">-1</td><td align="right">1</td><td align="right">1</td></tr><tr><td></td><td align="center">5</td><td align="right">1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">6</td><td align="right">1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">7</td><td align="center">1</td><td align="right">-1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">2</td><td align="right">1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td></td><td align="center">4</td><td align="right">-1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">5</td><td align="right">-1</td><td align="right">1</td><td align="right">1</td></tr><tr><td></td><td align="center">6</td><td align="right">1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">7</td><td align="right">1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td colspan="5"><hr></hr></td></tr><tr><td align="center">8</td><td align="center">1</td><td align="right">-1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">2</td><td align="right">-1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">3</td><td align="right">-1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td></td><td align="center">4</td><td align="right">-1</td><td align="right">1</td><td align="right">1</td></tr><tr><td></td><td align="center">5</td><td align="right">1</td><td align="right">-1</td><td align="right">-1</td></tr><tr><td></td><td align="center">6</td><td align="right">1</td><td align="right">1</td><td align="right">-1</td></tr><tr><td></td><td align="center">7</td><td align="right">1</td><td align="right">-1</td><td align="right">1</td></tr><tr><td></td><td align="center">8</td><td align="right">1</td><td align="right">1</td><td align="right">1</td></tr></tbody></table></table-wrap><p>&#x02022; It should be remembered that units should be equally allocated amongst each of the levels of each factor. Therefore, it would be recommended to include factors with few levels and few factors with greater than two levels, this can often be achieved by aggregating related levels. However to code a factor with three of four levels can be carried out by implementing two variables in the covariates data sheet, or with 5 to 8 levels with 3 variables (see Table <xref ref-type="table" rid="T3">3</xref>). To code a nominal factor called 'type of health professional' with three factors levels 'GP', 'Nurse' and 'Other' could be coded as the following: 'GP' (var<sub>1 </sub>= -1, var<sub>2 </sub>= -1), 'Nurse' (var<sub>1 </sub>= 1, var<sub>2 </sub>= -1) and 'Other' (var<sub>1 </sub>= -1, var<sub>2 </sub>= 1).</p></sec></sec><sec><title>Results</title><p>The software has been used within the PRE-EMPT study [<xref ref-type="bibr" rid="B27">27</xref>]. This is a study to evaluate the impact of training primary care health professionals in behaviour change counselling. The study was randomized at the practice level and recruited patients prior to their appointment with a GP or nurse and followed up 3 months later. Practices within block were all enrolled into the study, then randomized and then informed of their allocation. Two blocks of 14 and 15 were used respectively, to allow for differing rates of response from practices and approvals being gained.</p><p>Here we present data of 29 general practice surgeries where the first 14 (rows) were allocated in block 1, and the remaining 15 allocated to block 2 using 'covariate.csv' as the baseline covariates data. The baseline data included two covariates, the first general practice list size (the number of patients registered at that practice) and the Townsend deprivation index aggregated to the general practice level [<xref ref-type="bibr" rid="B28">28</xref>-<xref ref-type="bibr" rid="B30">30</xref>]. The allocations for block two was conditional on block one has been included as 'block_one_allocation.csv'.</p><p>To implement the randomization algorithm carry out the following:</p><p>1, check the system requirements in the availability and requirements section, ensuring that you have installed R version 2.4, or later,</p><p>2, create a main folder and a subsequent subfolder within this called 'rcode',</p><p>3, save "Example_Allocation_Execution_Code.R" and "covariate.csv" within the main folder, then "randomisation.R" and "randomisation 2.R" within the subfolder,</p><p>4, open R and update the location of the 'area', highlight and submit the area and source code (Figure <xref ref-type="fig" rid="F1">1</xref>)</p><fig position="float" id="F1"><label>Figure 1</label><caption><p><bold>A screen dump from 'Example_Allocation_Execution_Code.R'. </bold>To allocate, change the area and submit the R-script.</p></caption><graphic xlink:href="1471-2288-8-65-1"/></fig><p>5, to run the algorithm on block one, update the data within the block one allocation code and submit. Inversely to run later block allocations, update the data within the later block allocation code and submit this. Where the following variables are required (Figure <xref ref-type="fig" rid="F1">1</xref>):</p><p>folder, the location of the data, typically the same as the 'area';</p><p>covariates, the file containing the baseline covariate information;</p><p>unit, the number of units within the block;</p><p>outfile, the file produced containing the optimal set of enumerated allocations ordered by the imbalance statistic;</p><p>figure, the figure of the distribution of imbalance statistics across all enumeration allocations;</p><p>infile, the previously allocated block data (only required for blocks two or later).</p><p>This will generate a file with the set of optimally balanced allocations ordered by the imbalance statistic called 'block_one.csv', where the rows are the allocations and the columns are the general practices as taken from the covariate file. A histogram that visualises the distribution of the imbalance statistics calculated from all allocations is shown in Figure <xref ref-type="fig" rid="F2">2</xref>.</p><fig position="float" id="F2"><label>Figure 2</label><caption><p>The distribution of imbalance statistics across each of the generated allocations for block one.</p></caption><graphic xlink:href="1471-2288-8-65-2"/></fig><p>From 'block_one.csv' one allocation was selected at random and treatment arm codes 0 and 1 were allocated to control and intervention arms (highlighted in 'block_one.csv'). Later the second block final allocation was selected and can be found as 'block_two.csv' (highlighted again). Final allocations for both blocks were random selectly by the independent statistician on the Trial Steering Committee.</p><p>Table <xref ref-type="table" rid="T4">4</xref> presents summary statistics for the two baseline covariates including the number randomized into each arm (n), the mean and standard deviation (sd) within block and across blocks. This shows that the two arms exhibit minimal evidence to suggest imbalance either within or between blocks.</p><table-wrap position="float" id="T4"><label>Table 4</label><caption><p>Summarised baseline information from the randomised general practice surgeries for the two covariates partitioned into treatment group</p></caption><table frame="hsides" rules="groups"><thead><tr><td></td><td></td><td align="center" colspan="2">List-Size</td><td align="center" colspan="2">Townsend Deprivation Index</td></tr><tr><td></td><td align="center">(n)</td><td align="center">mean</td><td align="center">sd</td><td align="center">Mean</td><td align="center">sd</td></tr></thead><tbody><tr><td align="left">Block 1</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">Control</td><td align="center">7</td><td align="center">1,483</td><td align="center">970</td><td align="center">0.9</td><td align="center">2.87</td></tr><tr><td align="left">Intervention</td><td align="center">7</td><td align="center">1,504</td><td align="center">570</td><td align="center">1.1</td><td align="center">1.70</td></tr><tr><td colspan="6"><hr></hr></td></tr><tr><td align="left">Block 2</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">Control</td><td align="center">7</td><td align="center">2,080</td><td align="center">929</td><td align="center">1.5</td><td align="center">3.58</td></tr><tr><td align="left">Intervention</td><td align="center">8</td><td align="center">1,843</td><td align="center">1112</td><td align="center">0.7</td><td align="center">5.26</td></tr><tr><td colspan="6"><hr></hr></td></tr><tr><td align="left">Block 1 &#x00026; 2</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">Control</td><td align="center">14</td><td align="center">1,781</td><td align="center">964</td><td align="center">1.2</td><td align="center">3.13</td></tr><tr><td align="left">Intervention</td><td align="center">15</td><td align="center">1,685</td><td align="center">888</td><td align="center">0.9</td><td align="center">3.89</td></tr></tbody></table></table-wrap></sec><sec><title>Discussion</title><p>The allocation of the first block involves the full enumeration of each design. These are used to calculate an imbalance measure between treatment arm [Equation 1]. Each additional block was randomized conditional on the previously allocated design as a fixed starting point [Equation 2]. In doing so the algorithm not only provides access to software but extends the work of Raab and Butcher [<xref ref-type="bibr" rid="B15">15</xref>] by allowing multiple blocks to be randomized and ensures that allocations are balanced between the two treatment arms.</p><p>A minimum number of recruited units available for randomization is crucial to maintain concealment and allocate a minimally imbalanced design. We propose that given the symmetry and importance of the first block this should be randomized with at least eight units. However, this could be reduced for subsequent blocks to six units, see Table <xref ref-type="table" rid="T1">1</xref> for more details of the total number of allocations that would be included in the allocation sets.</p><p>We advocate the allocation is selected at random from the set of allocations with the smallest imbalance statistic. Typically when using larger block sizes a random sample should be made from the 1,000 optimally balanced designed. However, for smaller block sizes fewer allocations should be used to randomly select from (Table <xref ref-type="table" rid="T1">1</xref>). The set sizes were determined pragmatically and dependent on block size, but we recommend that further work is carried out to quantify their effect, as we recognise these will effect the degree of randomness introduced.</p><p>It would be envisaged that these algorithms are not only used by statisticians, but allow medical researchers with minimal access to a statistician an invaluable tool to help randomize their trials in a robust way. In the primary care setting these algorithms have already been used to randomize centres within cluster randomized trials. In future the algorithms could be extended to incorporate improved efficiency to deal with larger block sizes. Furthermore, we will weight the balance measure by practice recruitment for those recruited practices to deal with under recruiting practices and examine the impact on future block allocations.</p><p>For details of a wide range of alternative randomization software algorithms see Professor Martin Bland's randomization software services pages [<xref ref-type="bibr" rid="B31">31</xref>].</p></sec><sec><title>Conclusion</title><p>The software is important for multi disciplinary teams needing to address the issues surrounding randomization. It allows the inclusion of information from baseline covariates to influence the allocation of the units to treatment groups, without disclosing or causing untoward doubt to the concealment.</p><p>It is intended these algorithms are an easy to use and convenient tool to be used by researchers who wish to minimize imbalance between treatment arms across multiple baseline stratification variables ensuring that ICH guidance is adhered to.</p></sec><sec><title>Competing interests</title><p>The authors declare that they have no competing interests.</p></sec><sec><title>Authors' contributions</title><p>BC undertook the literature review, extended the methodology, wrote the R-scripts and drafted the manuscript. KH carried out the original randomization work within the trials unit and reviewed the manuscript. Both authors have seen and approved the final manuscript.</p></sec><sec><title>Availability and requirements</title><p>Project name: : Cluster randomization allocation algorithm,</p><p>Operating system(s) : Windows 95, Windows 2000/ME or Windows XP (Vista untested),</p><p>Programming language : R,</p><p>License : Scripts provided free for non-commercial use, with absolutely no warranty,</p><p>Other requirements : R 2.4.0 (Released 3<sup>rd </sup>of October, 2006),</p><p>: R 2.6.1 is free to download and install [<xref ref-type="bibr" rid="B24">24</xref>],</p><p>: Minimum 256 Mb RAM (Table <xref ref-type="table" rid="T2">2</xref>),</p><p>: 100 Mb Hard-disk space,</p><p>Restrictions : Commercial organisations should contact the author prior to use.</p></sec><sec><title>Pre-publication history</title><p>The pre-publication history for this paper can be accessed here:</p><p><ext-link ext-link-type="uri" xlink:href="http://www.biomedcentral.com/1471-2288/8/65/prepub"/></p></sec><sec sec-type="supplementary-material"><title>Supplementary Material</title><supplementary-material content-type="local-data" id="S1"><caption><title>Additional File 1</title><p><bold>Cluster randomization allocation algorithm version 1.</bold> Algorithms scripted in R to provide robust cluster randomization.</p></caption><media xlink:href="1471-2288-8-65-S1.zip" mimetype="application" mime-subtype="x-zip-compressed"><caption><p>Click here for file</p></caption></media></supplementary-material></sec></body><back><ack><sec><title>Acknowledgements</title><p>We wish to thank the PRE-EMPT chief investigator Professor Chris Butler, the project team and the independent statistician Amanda Farrin (Leeds Clinical Trials Research Unit), Professor David Fone (Cardiff University) and Nathan Lester (National Public Health Service for Wales). We also wish to thank the two referees for improving this manuscript.</p></sec></ack><ref-list><ref id="B1"><citation citation-type="book"><person-group person-group-type="author"><name><surname>Fisher</surname><given-names>RA</given-names></name></person-group><source>The Design of Experiments</source><year>1935</year><publisher-name>Edinburgh: Oliva and Boyd</publisher-name></citation></ref><ref id="B2"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Beller</surname><given-names>EM</given-names></name><name><surname>Gebski</surname><given-names>V</given-names></name><name><surname>Keech</surname><given-names>AC</given-names></name></person-group><article-title>Randomization in clinical trials</article-title><source>MJA</source><year>2002</year><volume>177</volume><fpage>565</fpage><lpage>567</lpage><pub-id pub-id-type="pmid">12429008</pub-id></citation></ref><ref id="B3"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Burger</surname><given-names>VW</given-names></name><name><surname>Christophi</surname><given-names>CA</given-names></name></person-group><article-title>Randomization Technique, Allocation Concealment, Masking, And Suspectibility Of Trials To Selection Bias</article-title><source>JMASM</source><year>2003</year><volume>2</volume><fpage>80</fpage><lpage>86</lpage></citation></ref><ref id="B4"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Box</surname><given-names>GEP</given-names></name><name><surname>Guttman</surname><given-names>I</given-names></name></person-group><article-title>Some aspects of randomization</article-title><source>RSS Series B</source><year>1966</year><volume>28</volume><fpage>543</fpage><lpage>558</lpage></citation></ref><ref id="B5"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Taves</surname><given-names>DR</given-names></name></person-group><article-title>Minimization: a new method of assigning patients to treatment and control groups</article-title><source>Clinical Pharmacology and Therapeutics</source><year>1974</year><volume>15</volume><fpage>443</fpage><lpage>453</lpage><pub-id pub-id-type="pmid">4597226</pub-id></citation></ref><ref id="B6"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Pocock</surname><given-names>SJ</given-names></name><name><surname>Simon</surname><given-names>R</given-names></name></person-group><article-title>Sequential treatment assignment with balancing for prognostic factors in the controlled clinical trial</article-title><source>Biometrics</source><year>1975</year><volume>31</volume><fpage>103</fpage><lpage>115</lpage><pub-id pub-id-type="pmid">1100130</pub-id><pub-id pub-id-type="doi">10.2307/2529712</pub-id></citation></ref><ref id="B7"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Klotz</surname><given-names>JH</given-names></name></person-group><article-title>Maximum entropy constrained balance for clinical trials</article-title><source>Biometrics</source><year>1978</year><volume>34</volume><fpage>283</fpage><lpage>287</lpage><pub-id pub-id-type="pmid">352415</pub-id><pub-id pub-id-type="doi">10.2307/2530018</pub-id></citation></ref><ref id="B8"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Atkinson</surname><given-names>AC</given-names></name></person-group><article-title>Optimal biased coin designs for sequential clinical trials with prognostic factors</article-title><source>Biometrics</source><year>1982</year><volume>69</volume><fpage>61</fpage><lpage>67</lpage><pub-id pub-id-type="doi">10.1093/biomet/69.1.61</pub-id></citation></ref><ref id="B9"><citation citation-type="other"><person-group person-group-type="author"><name><surname>Senn</surname><given-names>S</given-names></name></person-group><article-title>Randomization</article-title><source>Statistical issues in drug development Wiley</source><year>1997</year><fpage>77</fpage><lpage>81</lpage></citation></ref><ref id="B10"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Scott</surname><given-names>NW</given-names></name><name><surname>McPherson</surname><given-names>GC</given-names></name><name><surname>Ramsay</surname><given-names>CR</given-names></name><name><surname>Campbell</surname><given-names>MK</given-names></name></person-group><article-title>The method of minimization for allocation to clinical trials: a review</article-title><source>Controlled Clinical Trials</source><year>2002</year><volume>23</volume><fpage>662</fpage><lpage>674</lpage><pub-id pub-id-type="pmid">12505244</pub-id><pub-id pub-id-type="doi">10.1016/S0197-2456(02)00242-8</pub-id></citation></ref><ref id="B11"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Altman</surname><given-names>DG</given-names></name><name><surname>Bland</surname><given-names>MJ</given-names></name></person-group><article-title>Treatment allocation by minimisation</article-title><source>BMJ</source><year>2005</year><volume>330</volume><fpage>843</fpage><pub-id pub-id-type="pmid">15817555</pub-id><pub-id pub-id-type="doi">10.1136/bmj.330.7495.843</pub-id></citation></ref><ref id="B12"><citation citation-type="journal"><person-group person-group-type="author"><collab>ICH E9(1) Expert working group</collab></person-group><article-title>ICH &#x02013; Harmonised Tripartite guidelines: Statistical principles for clinical trials</article-title><source>Statistics in Medicine</source><year>1999</year><volume>18</volume><fpage>1905</fpage><lpage>1942</lpage><pub-id pub-id-type="pmid">10532877</pub-id></citation></ref><ref id="B13"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Green</surname><given-names>H</given-names></name><name><surname>McEntegart</surname><given-names>DJ</given-names></name><name><surname>Byrom</surname><given-names>B</given-names></name><name><surname>Ghani</surname><given-names/></name><name><surname>Shepherd</surname><given-names>S</given-names></name></person-group><article-title>Minimization in crossover trials with non-prognostic strata: theory and practical application</article-title><source>Clinical Pharmacology and Therapeutics</source><year>2001</year><volume>26</volume><fpage>121</fpage><lpage>128</lpage><pub-id pub-id-type="pmid">11350535</pub-id></citation></ref><ref id="B14"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Berger</surname><given-names>VW</given-names></name><name><surname>Ivanova</surname><given-names>A</given-names></name><name><surname>Knoll</surname><given-names>MD</given-names></name></person-group><article-title>Minimizing predictability while retaining balance through the use of less restrictive randomization procedures</article-title><source>Statist Med</source><year>2003</year><volume>22</volume><fpage>3017</fpage><lpage>3028</lpage><pub-id pub-id-type="pmid">12973784</pub-id><pub-id pub-id-type="doi">10.1002/sim.1538</pub-id></citation></ref><ref id="B15"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Raab</surname><given-names>GM</given-names></name><name><surname>Butcher</surname><given-names>I</given-names></name></person-group><article-title>Balance in cluster randomized trials</article-title><source>Statistics in Medicine</source><year>2001</year><volume>20</volume><fpage>351</fpage><lpage>365</lpage><pub-id pub-id-type="pmid">11180306</pub-id><pub-id pub-id-type="doi">10.1002/1097-0258(20010215)20:3&#x0003c;351::AID-SIM797&#x0003e;3.0.CO;2-C</pub-id></citation></ref><ref id="B16"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Berger</surname><given-names>VW</given-names></name></person-group><article-title>Do not use blocked randomization</article-title><source>Headache</source><year>2006</year><volume>46</volume><fpage>343</fpage><lpage>345</lpage><pub-id pub-id-type="pmid">16492254</pub-id><pub-id pub-id-type="doi">10.1111/j.1526-4610.2006.00351_5.x</pub-id></citation></ref><ref id="B17"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Berger</surname><given-names>VW</given-names></name></person-group><article-title>Misguided precedent is not a reason to use permuted blocks</article-title><source>Headache</source><year>2006</year><volume>46</volume><fpage>1210</fpage><lpage>1212</lpage><pub-id pub-id-type="pmid">16866731</pub-id><pub-id pub-id-type="doi">10.1111/j.1526-4610.2006.00517_2.x</pub-id></citation></ref><ref id="B18"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Berger</surname><given-names>VW</given-names></name></person-group><article-title>Varying the block size does not conceal the allocation</article-title><source>Journal of Critical Care</source><year>2006</year><volume>21</volume><fpage>229</fpage><lpage>230</lpage><pub-id pub-id-type="pmid">16769475</pub-id><pub-id pub-id-type="doi">10.1016/j.jcrc.2006.01.002</pub-id></citation></ref><ref id="B19"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Schulz</surname><given-names>KF</given-names></name><name><surname>Chalmers</surname><given-names>I</given-names></name><name><surname>Hayes</surname><given-names>RJ</given-names></name><name><surname>Altman</surname><given-names>DG</given-names></name></person-group><article-title>Empirical evidence of bias. Dimensions of methodology quality associated with estimates of treatment effects in controlled trials</article-title><source>JAMA</source><year>1995</year><volume>273</volume><fpage>408</fpage><lpage>412</lpage><pub-id pub-id-type="pmid">7823387</pub-id><pub-id pub-id-type="doi">10.1001/jama.273.5.408</pub-id></citation></ref><ref id="B20"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Schulz</surname><given-names>KF</given-names></name><name><surname>Grimes</surname><given-names>DA</given-names></name></person-group><article-title>Allocation concealment in randomized trials:defending against deciphering</article-title><source>The Lancet</source><year>2002</year><volume>359</volume><fpage>614</fpage><lpage>618</lpage><pub-id pub-id-type="pmid">11867132</pub-id><pub-id pub-id-type="doi">10.1016/S0140-6736(02)07750-4</pub-id></citation></ref><ref id="B21"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Moore</surname><given-names>H</given-names></name><name><surname>Summerbell</surname><given-names>CD</given-names></name><name><surname>Greenwood</surname><given-names>DC</given-names></name><name><surname>Tovey</surname><given-names>P</given-names></name><name><surname>Griffiths</surname><given-names>J</given-names></name><name><surname>Henderson</surname><given-names>M</given-names></name><name><surname>Hesketh</surname><given-names>K</given-names></name><name><surname>Woolgar</surname><given-names>S</given-names></name><name><surname>Adamson</surname><given-names>AJ</given-names></name></person-group><article-title>Improving Management of obesity in primary care: cluster randomised trial</article-title><source>BMJ</source><year>2003</year><volume>327</volume><fpage>1085</fpage><lpage>1090</lpage><pub-id pub-id-type="pmid">14604931</pub-id><pub-id pub-id-type="doi">10.1136/bmj.327.7423.1085</pub-id></citation></ref><ref id="B22"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Raab</surname><given-names>GM</given-names></name><name><surname>Butcher</surname><given-names>I</given-names></name></person-group><article-title>Randomization inference for balanced cluster randomized trials</article-title><source>Clin Trials</source><year>2005</year><volume>2</volume><fpage>130</fpage><lpage>140</lpage><pub-id pub-id-type="pmid">16279135</pub-id><pub-id pub-id-type="doi">10.1191/1740774505cn075oa</pub-id></citation></ref><ref id="B23"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Glynn</surname><given-names>RJ</given-names></name><name><surname>Brookhart</surname><given-names>MA</given-names></name><name><surname>Stedman</surname><given-names>M</given-names></name><name><surname>Avorn</surname><given-names>J</given-names></name><name><surname>Soloman</surname><given-names>DH</given-names></name></person-group><article-title>Design of cluster-randomized trials of quality improvement interventions aimed at medical care providers</article-title><source>Medical Care</source><year>2007</year><fpage>38</fpage><lpage>43</lpage><pub-id pub-id-type="pmid">17909381</pub-id></citation></ref><ref id="B24"><citation citation-type="book"><person-group person-group-type="author"><collab>R Development Core Team</collab></person-group><article-title>R: A Language and Environment for Statistical Computing</article-title><source>R Foundation for Statistical Computing</source><year>2007</year><publisher-name>Vienna Austria</publisher-name><ext-link ext-link-type="uri" xlink:href="http://www.R-project.org"/></citation></ref><ref id="B25"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Berger</surname><given-names>VW</given-names></name></person-group><article-title>Quantifying the magnitude of baseline covariate imbalances resulting from selection bias in randomized clinical trials</article-title><source>Biometrical Journal</source><year>2005</year><volume>2</volume><fpage>119</fpage><lpage>127</lpage><pub-id pub-id-type="pmid">16389910</pub-id><pub-id pub-id-type="doi">10.1002/bimj.200410106</pub-id></citation></ref><ref id="B26"><citation citation-type="other"><person-group person-group-type="author"><collab>The Cochrane Collaboration</collab></person-group><article-title>Cochrane Handbook for Systematic Reviews of Interventions 4.2.6</article-title><source>The Cochrane Collection</source><year>2006</year><fpage>107</fpage><lpage>108</lpage></citation></ref><ref id="B27"><citation citation-type="other"><person-group person-group-type="author"><collab>The Pre-Empt Project Team</collab></person-group><article-title>Preventing disease through opportunistic, Rapid EngagEMent by Primary care Teams using behaviour change counselling. (PRE-EMPT)</article-title><source>South East Wales Trials Unit</source><year>2006</year><ext-link ext-link-type="uri" xlink:href="http://www.cardiff.ac.uk/medic/subsites/sewtu/whatwedo/preempt-study.html"/></citation></ref><ref id="B28"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Townsend</surname><given-names>P</given-names></name></person-group><article-title>Deprivation</article-title><source>Journal of Social Policy</source><year>1987</year><volume>16</volume><fpage>125</fpage><lpage>46</lpage></citation></ref><ref id="B29"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Fone</surname><given-names>DL</given-names></name><name><surname>Dunstan</surname><given-names>F</given-names></name></person-group><article-title>Mental health, places and people: A multilevel analysis of economic inactivity and social deprivation</article-title><source>Health and Place</source><year>2006</year><fpage>332</fpage><lpage>344</lpage><pub-id pub-id-type="pmid">16546698</pub-id><pub-id pub-id-type="doi">10.1016/j.healthplace.2005.02.002</pub-id></citation></ref><ref id="B30"><citation citation-type="other"><article-title>The Quality and Outcomes Framework, National Public Health Service for Wales</article-title><ext-link ext-link-type="uri" xlink:href="http://www.wales.nhs.uk/sites3/page.cfm?orgid=480&#x00026;pid=17050"/></citation></ref><ref id="B31"><citation citation-type="other"><article-title>University of York, directory of randomisation software and services</article-title><ext-link ext-link-type="uri" xlink:href="http://www-users.york.ac.uk/~mb55/guide/randsery.htm"/></citation></ref></ref-list></back></article>


